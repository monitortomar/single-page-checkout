{"ast":null,"code":"import _classCallCheck from\"/home/quadrish/single-page-checkout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/quadrish/single-page-checkout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/quadrish/single-page-checkout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/quadrish/single-page-checkout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/quadrish/single-page-checkout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{updateProductCount as _updateProductCount}from\"../../redux/product/product.actions\";import\"./buyDetails.styles.css\";var BuyDetails=/*#__PURE__*/function(_React$Component){_inherits(BuyDetails,_React$Component);var _super=_createSuper(BuyDetails);function BuyDetails(props){var _this;_classCallCheck(this,BuyDetails);_this=_super.call(this,props);_this.inputChangedHandler=function(event){};_this.props=props;_this.state={active:0,price:0,count:0,mode:\"add\"};_this.toggleView=_this.toggleView.bind(_assertThisInitialized(_this));_this.getView=_this.getView.bind(_assertThisInitialized(_this));return _this;}_createClass(BuyDetails,[{key:\"toggleView\",value:function toggleView(e){console.log(this.props);var updateProductCount=this.props.updateProductCount;if(e.target.id===\"addbtn\"){this.setState({mode:\"added\",active:1,price:this.props.price,count:1});updateProductCount({count:1,price:this.props.price,name:this.props.name,key:this.props.dataKey});}if(e.target.id===\"minus\"&&this.state.count===1){this.setState({mode:\"add\",active:1,price:this.props.price,count:0});updateProductCount({count:0,price:this.props.price,name:this.props.name,key:this.props.dataKey});}if(e.target.id===\"plus\"){this.setState({mode:\"added\",active:1,count:this.state.count+1,price:this.props.price});updateProductCount({count:this.state.count+1,price:this.props.price,name:this.props.name,key:this.props.dataKey});}if(e.target.id===\"minus\"&&this.state.count!==1){this.setState({mode:\"added\",active:1,count:this.state.count-1,price:this.props.price});updateProductCount({count:this.state.count-1,price:this.props.price,name:this.props.name,key:this.props.dataKey});}}},{key:\"getView\",value:function getView(mode){var _this2=this;var views={add:/*#__PURE__*/React.createElement(\"button\",{id:\"addbtn\",className:\"buy-details\"},\"ADD TO CART\"),added:/*#__PURE__*/React.createElement(\"div\",{className:\"plus-minus\"},/*#__PURE__*/React.createElement(\"button\",{id:\"minus\"},\"-\"),/*#__PURE__*/React.createElement(\"input\",{className:\"plus-minus-input\",type:\"text\",size:\"1\",maxLength:\"2\",value:this.state.count,onChange:function onChange(event){return _this2.inputChangedHandler(event);}}),/*#__PURE__*/React.createElement(\"button\",{id:\"plus\"},\"+\"))};return views[mode];}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{onClick:this.toggleView},this.getView(this.state.mode));}}]);return BuyDetails;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateProductCount:function updateProductCount(product){return dispatch(_updateProductCount(product));}};};export default connect(null,mapDispatchToProps)(BuyDetails);","map":{"version":3,"sources":["/home/quadrish/single-page-checkout/client/src/components/buyDetails/buyDetails.component.jsx"],"names":["React","connect","updateProductCount","BuyDetails","props","inputChangedHandler","event","state","active","price","count","mode","toggleView","bind","getView","e","console","log","target","id","setState","name","key","dataKey","views","add","added","Component","mapDispatchToProps","dispatch","product"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { updateProductCount } from \"../../redux/product/product.actions\";\nimport \"./buyDetails.styles.css\";\n\nclass BuyDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {\n      active: 0,\n      price: 0,\n      count: 0,\n      mode: \"add\",\n    };\n    this.toggleView = this.toggleView.bind(this);\n    this.getView = this.getView.bind(this);\n  }\n\n  toggleView(e) {\n    console.log(this.props);\n    const { updateProductCount } = this.props;\n    if (e.target.id === \"addbtn\") {\n      this.setState({\n        mode: \"added\",\n        active: 1,\n        price: this.props.price,\n        count: 1,\n      });\n      updateProductCount({\n        count: 1,\n        price: this.props.price,\n        name: this.props.name,\n        key: this.props.dataKey,\n      });\n    }\n    if (e.target.id === \"minus\" && this.state.count === 1) {\n      this.setState({\n        mode: \"add\",\n        active: 1,\n        price: this.props.price,\n        count: 0,\n      });\n      updateProductCount({\n        count: 0,\n        price: this.props.price,\n        name: this.props.name,\n        key: this.props.dataKey,\n      });\n    }\n    if (e.target.id === \"plus\") {\n      this.setState({\n        mode: \"added\",\n        active: 1,\n        count: this.state.count + 1,\n        price: this.props.price,\n      });\n      updateProductCount({\n        count: this.state.count + 1,\n        price: this.props.price,\n        name: this.props.name,\n        key: this.props.dataKey,\n      });\n    }\n    if (e.target.id === \"minus\" && this.state.count !== 1) {\n      this.setState({\n        mode: \"added\",\n        active: 1,\n        count: this.state.count - 1,\n        price: this.props.price,\n      });\n      updateProductCount({\n        count: this.state.count - 1,\n        price: this.props.price,\n        name: this.props.name,\n        key: this.props.dataKey,\n      });\n    }\n  }\n\n  inputChangedHandler = (event) => {};\n\n  getView(mode) {\n    const views = {\n      add: (\n        <button id={`addbtn`} className=\"buy-details\">\n          ADD TO CART\n        </button>\n      ),\n      added: (\n        <div className=\"plus-minus\">\n          <button id={`minus`}>-</button>\n          <input\n            className=\"plus-minus-input\"\n            type=\"text\"\n            size=\"1\"\n            maxLength=\"2\"\n            value={this.state.count}\n            onChange={(event) => this.inputChangedHandler(event)}\n          />\n          <button id={`plus`}>+</button>\n        </div>\n      ),\n    };\n    return views[mode];\n  }\n\n  render() {\n    return <div onClick={this.toggleView}>{this.getView(this.state.mode)}</div>;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateProductCount: (product) => dispatch(updateProductCount(product)),\n});\n\nexport default connect(null, mapDispatchToProps)(BuyDetails);\n"]},"metadata":{},"sourceType":"module"}