(this["webpackJsonpsingle-page-checkout"]=this["webpackJsonpsingle-page-checkout"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,a){t.exports=a(41)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),i=a(3),u=a(4),s=a(6),l=a(5),p=(a(22),function(t){var e=t.name;return o.a.createElement("div",{className:"product-name"},e)}),d=(a(23),function(t){var e=t.url;return o.a.createElement("div",{className:"product-image"},o.a.createElement("img",{className:"pro-image",src:e,alt:"Image"}))}),m=(a(24),function(t){var e=t.price;return o.a.createElement("div",{className:"price-details"},e)}),h=a(2),f=a(1),v=(a(30),function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).inputChangedHandler=function(t){},n.props=t,n.state={active:0,price:0,count:0,mode:"add"},n.toggleView=n.toggleView.bind(Object(h.a)(n)),n.getView=n.getView.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"toggleView",value:function(t){console.log(this.props);var e=this.props.updateProductCount;"addbtn"===t.target.id&&(this.setState({mode:"added",active:1,price:this.props.price,count:1}),e({count:1,price:this.props.price,name:this.props.name,key:this.props.dataKey})),"minus"===t.target.id&&1===this.state.count&&(this.setState({mode:"add",active:1,price:this.props.price,count:0}),e({count:0,price:this.props.price,name:this.props.name,key:this.props.dataKey})),"plus"===t.target.id&&(this.setState({mode:"added",active:1,count:this.state.count+1,price:this.props.price}),e({count:this.state.count+1,price:this.props.price,name:this.props.name,key:this.props.dataKey})),"minus"===t.target.id&&1!==this.state.count&&(this.setState({mode:"added",active:1,count:this.state.count-1,price:this.props.price}),e({count:this.state.count-1,price:this.props.price,name:this.props.name,key:this.props.dataKey}))}},{key:"getView",value:function(t){var e=this;return{add:o.a.createElement("button",{id:"addbtn",className:"buy-details"},"ADD TO CART"),added:o.a.createElement("div",{className:"plus-minus"},o.a.createElement("button",{id:"minus"},"-"),o.a.createElement("input",{className:"plus-minus-input",type:"text",size:"1",maxLength:"2",value:this.state.count,onChange:function(t){return e.inputChangedHandler(t)}}),o.a.createElement("button",{id:"plus"},"+"))}[t]}},{key:"render",value:function(){return o.a.createElement("div",{onClick:this.toggleView},this.getView(this.state.mode))}}]),a}(o.a.Component)),b=Object(f.b)(null,(function(t){return{updateProductCount:function(e){return t(function(t){return{type:"UPDATE_PRODUCT_COUNT",payload:t}}(e))}}}))(v),y=(a(31),function(t){var e=t.dataKey,a=t.price,n=t.name;return o.a.createElement("div",{className:"product-details"},o.a.createElement(m,{price:a}),o.a.createElement(b,{dataKey:e,price:a,name:n}))}),E=(a(32),function(t){var e=t.dataKey,a=t.name,n=t.url,c=t.price;return o.a.createElement("div",{className:"product-item"},o.a.createElement(d,{url:n}),o.a.createElement("div",{className:"product-content"},o.a.createElement(p,{name:a}),o.a.createElement(y,{dataKey:e,price:c,name:a})))}),k=(a(33),function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).getList=function(){fetch("/api/product").then((function(t){return t.json()})).then((function(e){return console.log(e.data),t.setState({productList:e.data})}))},t.state={productList:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){return o.a.createElement("div",{className:"product-directory"},this.state.productList.map((function(t){var e=t.id,a=t.name,n=t.url,c=t.price;return o.a.createElement(E,{key:e,dataKey:e,name:a,price:c,url:n})})))}}]),a}(o.a.Component)),g=(a(34),function(t){var e=t.name,a=t.count;return 0===e&&0===a||void 0===e&&void 0===a?(!1,null):o.a.createElement("div",{className:"checkout-product"},o.a.createElement("span",{className:"product-span"},"Product"),o.a.createElement("span",{className:"count-span"},"".concat(a," * ").concat(e)))}),O=(a(35),function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).getList=function(){fetch("/api/promo").then((function(t){return t.json()})).then((function(t){return n.setState({promoList:t.data})}))},n.updatePromo=function(){var t=new Headers;t.append("Content-Type","application/json"),fetch("/api/update_promo",{method:"POST",headers:t,body:JSON.stringify({code:n.state.code})}).then((function(t){return t.json()}))},n.state={code:"",promoList:[],status:"",desc:"",totalAmt:0},n.promoCode=n.promoCode.bind(Object(h.a)(n)),n.checkStatus=n.checkStatus.bind(Object(h.a)(n)),n.updatePromo=n.updatePromo.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"promoCode",value:function(t){this.setState({code:t.target.value})}},{key:"checkStatus",value:function(t){var e=this;this.state.promoList.map((function(t){if(t.code===e.state.code)if(!1===t.status){e.setState({status:"apply",desc:t.description});var a=e.props.total;"RRD4D32"===e.state.code?(a=(a/=10)>5e3?5e3:a,a=e.props.total-a+""):(a=(a*=.15)>1e4?1e4:a,a=e.props.total-a+""),e.setState({totalAmt:a}),e.updatePromo()}else e.setState({status:"no"})}))}},{key:"render",value:function(){var t=this.props.updateTotalAmt;return 0===this.state.totalAmt?t({total:this.props.total}):t({total:this.state.totalAmt}),""===this.state.status?o.a.createElement("div",{className:"checkout-promotion"},o.a.createElement("input",{className:"checkout-promotion-input",type:"text",placeholder:"Add Promocode",onChange:this.promoCode}),o.a.createElement("button",{onClick:this.checkStatus,className:"checkout-promotion-button",type:"submit"},"Apply")):"apply"===this.state.status?o.a.createElement("div",{className:"checkout-promotion"},o.a.createElement("input",{className:"checkout-promotion-input",type:"text",placeholder:"Add Promocode",onChange:this.promoCode}),o.a.createElement("button",{onClick:this.checkStatus,className:"checkout-promotion-button-apply",type:"submit"},"Apply"),o.a.createElement("div",{className:"promo-desc"},this.state.desc)):"no"===this.state.status?o.a.createElement("div",{className:"checkout-promotion"},o.a.createElement("input",{className:"checkout-promotion-input",type:"text",placeholder:"Add Promocode",onChange:this.promoCode}),o.a.createElement("button",{onClick:this.checkStatus,className:"checkout-promotion-button-no",type:"submit"},"Apply")):void 0}}]),a}(o.a.Component)),j=Object(f.b)(null,(function(t){return{updateTotalAmt:function(e){return t(function(t){return{type:"UPDATE_TOTAL_AMT",payload:t}}(e))}}}))(O),N=(a(36),Object(f.b)((function(t){return{total:t.total.total}}))((function(t){var e=t.total;return console.log(e),o.a.createElement("div",{className:"checkout-total"},o.a.createElement("span",null,"Total"),o.a.createElement("span",null,e.total?"$".concat(e.total):0))}))),C=(a(37),[]),A=[],T=Object(f.b)((function(t){return{count:t.product.count}}))((function(t){var e=t.count,a=0;return C.includes(e.key)?A=0===e.count?A.map((function(t){return t.key===e.key?(t.name=0,t.count=0,t):t})):A.map((function(t){return t.key===e.key?e:t})):(C.push(e.key),A.push(e)),A.map((function(t){if(0!==t&&0!==t.count){var e=t.price.substring(1);a+=t.count*parseFloat(e),e=""}else if(0!==t&&void 0===t.count){console.log("hii");var n=t.price.substring(1);a-=parseFloat(n)}})),console.log(a),o.a.createElement("div",{className:"checkout-details"},A.map((function(t){return 0===t?o.a.createElement(g,{name:void 0,count:void 0}):o.a.createElement(g,{key:t.key,name:t.name,count:t.count})})),o.a.createElement(j,{total:a.toFixed(2)}),o.a.createElement(N,{total:a.toFixed(2)}))})),S=(a(38),function(){return o.a.createElement("button",{onClick:function(){window.location.reload()},className:"checkout-btn"},"Checkout")}),P=(a(39),function(){return o.a.createElement("div",{className:"checkout-amount"},o.a.createElement(T,null),o.a.createElement(S,null))}),w=(a(40),function(){return o.a.createElement("div",{className:"checkout-page"},o.a.createElement(k,null),o.a.createElement(P,null))}),L=function(t){Object(s.a)(a,t);var e=Object(l.a)(a);function a(){var t;return Object(i.a)(this,a),(t=e.call(this)).productCount=0,t}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(w,null))}}]),a}(n.Component),D=a(7),K=a(16),_=a.n(K),x=a(8),U={count:0},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_PRODUCT_COUNT":return Object(x.a)(Object(x.a)({},t),{},{count:e.payload});default:return t}},M={total:0},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_TOTAL_AMT":return Object(x.a)(Object(x.a)({},t),{},{total:e.payload});default:return t}},F=Object(D.c)({product:V,total:R}),H=[_.a],J=Object(D.d)(F,D.a.apply(void 0,H));r.a.render(o.a.createElement(f.a,{store:J},o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null))),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.0697c8a2.chunk.js.map